# Generated by SnakeBridge v0.12.0 - DO NOT EDIT MANUALLY
# Regenerate with: mix compile
# Library: dspy 3.1.2
# Python module: dspy.adapters.utils

defmodule Dspy.Adapters.Utils do
  @moduledoc """
  Submodule bindings for `dspy.adapters.utils`.
  """

  def __snakebridge_python_name__, do: "dspy.adapters.utils"
  def __snakebridge_library__, do: "dspy"

  @doc """
  Finds the enum member corresponding to the specified identifier, which may be the

  enum member's name or value.

  ## Parameters

  - `enum` - The enum to search for the member.
  - `identifier` - If the enum is explicitly-valued, this is the value of the enum member to find. If the enum is auto-valued, this is the name of the enum member to find.

  Parameters:
  - `enum` (term())
  - `identifier` (term())

  Returns:
  - `term()`
  """
  @spec find_enum_member(term(), term(), keyword()) ::
          {:ok, term()} | {:error, Snakepit.Error.t()}
  def find_enum_member(enum, identifier, opts \\ []) do
    SnakeBridge.Runtime.call(__MODULE__, :find_enum_member, [enum, identifier], opts)
  end

  @doc """
  Formats the value of the specified field according to the field's DSPy type (input or output),

  annotation (e.g. str, int, etc.), and the type of the value itself.

  Parameters:
  - `field_info` (term())
  - `value` (term())
  - `assume_text` (term() default: True)

  Returns:
  - `term()`
  """
  @spec format_field_value(term(), term()) :: {:ok, term()} | {:error, Snakepit.Error.t()}
  @spec format_field_value(term(), term(), keyword()) ::
          {:ok, term()} | {:error, Snakepit.Error.t()}
  @spec format_field_value(term(), term(), term()) :: {:ok, term()} | {:error, Snakepit.Error.t()}
  @spec format_field_value(term(), term(), term(), keyword()) ::
          {:ok, term()} | {:error, Snakepit.Error.t()}
  def format_field_value(field_info, value) do
    SnakeBridge.Runtime.call(__MODULE__, :format_field_value, [field_info, value], [])
  end

  def format_field_value(field_info, value, opts)
      when is_list(opts) and
             (opts == [] or
                (is_tuple(hd(opts)) and tuple_size(hd(opts)) == 2 and is_atom(elem(hd(opts), 0)))) do
    SnakeBridge.Runtime.call(__MODULE__, :format_field_value, [field_info, value], opts)
  end

  def format_field_value(field_info, value, assume_text) do
    SnakeBridge.Runtime.call(
      __MODULE__,
      :format_field_value,
      [field_info, value, assume_text],
      []
    )
  end

  def format_field_value(field_info, value, assume_text, opts)
      when is_list(opts) and
             (opts == [] or
                (is_tuple(hd(opts)) and tuple_size(hd(opts)) == 2 and is_atom(elem(hd(opts), 0)))) do
    SnakeBridge.Runtime.call(
      __MODULE__,
      :format_field_value,
      [field_info, value, assume_text],
      opts
    )
  end

  @doc """

  """
  @spec get_annotation_name(term(), keyword()) :: {:ok, term()} | {:error, Snakepit.Error.t()}
  def get_annotation_name(annotation, opts \\ []) do
    SnakeBridge.Runtime.call(__MODULE__, :get_annotation_name, [annotation], opts)
  end

  @doc """

  """
  @spec get_field_description_string(%{optional(term()) => term()}, keyword()) ::
          {:ok, String.t()} | {:error, Snakepit.Error.t()}
  def get_field_description_string(fields, opts \\ []) do
    SnakeBridge.Runtime.call(__MODULE__, :get_field_description_string, [fields], opts)
  end

  @doc """

  """
  @spec parse_value(term(), term(), keyword()) :: {:ok, term()} | {:error, Snakepit.Error.t()}
  def parse_value(value, annotation, opts \\ []) do
    SnakeBridge.Runtime.call(__MODULE__, :parse_value, [value, annotation], opts)
  end

  @doc """
  Formats the specified value so that it can be serialized as a JSON string.



  ## Parameters

  - `value` - The value to format as a JSON string.

  Parameters:
  - `value` (term())

  Returns:
  - `term()`
  """
  @spec serialize_for_json(term(), keyword()) :: {:ok, term()} | {:error, Snakepit.Error.t()}
  def serialize_for_json(value, opts \\ []) do
    SnakeBridge.Runtime.call(__MODULE__, :serialize_for_json, [value], opts)
  end

  @doc """

  """
  @spec translate_field_type(term(), term(), keyword()) ::
          {:ok, term()} | {:error, Snakepit.Error.t()}
  def translate_field_type(field_name, field_info, opts \\ []) do
    SnakeBridge.Runtime.call(__MODULE__, :translate_field_type, [field_name, field_info], opts)
  end
end
